<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset e Importar - EFIL 2025</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: #f0f8ff;
        }

        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: #75AADB;
        }

        .warning {
            background: #fff3cd;
            border: 2px solid #ffc107;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }

        button {
            background: #dc3545;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            margin: 10px 0;
            font-weight: bold;
        }

        button:hover {
            background: #c82333;
        }

        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        button.success {
            background: #28a745;
        }

        button.success:hover {
            background: #218838;
        }

        #status {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            display: none;
            font-size: 16px;
        }

        .success-msg {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .error-msg {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .info-msg {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        ul {
            line-height: 1.8;
        }

        .step {
            margin: 10px 0;
            padding: 10px;
            background: #f8f9fa;
            border-left: 4px solid #75AADB;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üîÑ Reset e Importar Datos - EFIL 2025</h1>

        <div class="warning">
            <strong>‚ö†Ô∏è ATENCI√ìN:</strong> Este proceso borrar√° TODOS los datos viejos de Firebase y crear√° una base de
            datos nueva con los 36 partidos del Google Sheets.
        </div>

        <div id="status"></div>

        <button id="resetBtn" onclick="resetAndImport()">üóëÔ∏è BORRAR TODO E IMPORTAR DATOS NUEVOS</button>

        <h3>üìã Lo que har√° este bot√≥n:</h3>
        <div class="step">1Ô∏è‚É£ Borrar la colecci√≥n <code>efil_data</code> completa</div>
        <div class="step">2Ô∏è‚É£ Crear estructura nueva y limpia</div>
        <div class="step">3Ô∏è‚É£ Importar los 36 partidos del Google Sheets</div>
        <div class="step">4Ô∏è‚É£ Configurar equipos y zonas autom√°ticamente</div>

        <h3>üìä Datos a importar:</h3>
        <ul>
            <li>‚úÖ 36 partidos (5-10 diciembre 2024)</li>
            <li>‚úÖ 6 zonas (A, B, C, D, E, F)</li>
            <li>‚úÖ Equipos con horarios completos</li>
            <li>‚úÖ Todos los resultados en blanco (listos para cargar)</li>
        </ul>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDEqSXwobd7kKlJVMYi9aSAxKEBnFOLdQo",
            authDomain: "torneo-efil-2025.firebaseapp.com",
            projectId: "torneo-efil-2025",
            storageBucket: "torneo-efil-2025.firebasestorage.app",
            messagingSenderId: "1027732633033",
            appId: "1:1027732633033:web:f5e5e6a1c8f9e0b1c2d3e4"
        };

        firebase.initializeApp(firebaseConfig);
        const db = firebase.firestore();

        // Tournament Data
        const tournamentData = { "matches": { "1": { "team1": "E.F.I.L.", "team2": "URIBE (VERDE)", "group": "A", "date": "2024-12-05", "time": "16:00", "score1": null, "score2": null }, "2": { "team1": "URIBE (AMARILLO)", "team2": "MOSTRANDO CAMINOS", "group": "E", "date": "2024-12-05", "time": "17:00", "score1": null, "score2": null }, "3": { "team1": "MADRESELVA", "team2": "PLAZA ESPA√ëA (25 DE MAYO)", "group": "D", "date": "2024-12-05", "time": "18:05", "score1": null, "score2": null }, "4": { "team1": "RIVADAVIA", "team2": "ROQUE P√âREZ", "group": "F", "date": "2024-12-05", "time": "19:10", "score1": null, "score2": null }, "5": { "team1": "E.F.I.N. (NAVARRO)", "team2": "LA BLANQUITA (MERLO)", "group": "B", "date": "2024-12-05", "time": "20:20", "score1": null, "score2": null }, "6": { "team1": "SAN MART√çN NEGRO (MONTE GRANDE)", "team2": "EL PORVENIR (MERLO)", "group": "A", "date": "2024-12-05", "time": "21:30", "score1": null, "score2": null }, "7": { "team1": "SALGADO", "team2": "PROVINCIAL", "group": "B", "date": "2024-12-05", "time": "22:40", "score1": null, "score2": null }, "8": { "team1": "C.F.C. (BLANCO)", "team2": "LA BLANQUITA (MERLO)", "group": "C", "date": "2024-12-06", "time": "16:50", "score1": null, "score2": null }, "9": { "team1": "E.F.I.L.", "team2": "EL PORVENIR (MERLO)", "group": "A", "date": "2024-12-06", "time": "18:00", "score1": null, "score2": null }, "10": { "team1": "MADRESELVA", "team2": "DORREGO", "group": "D", "date": "2024-12-06", "time": "19:10", "score1": null, "score2": null }, "11": { "team1": "CA√ëUELA F.C. (ROJO)", "team2": "FERRO (LAS FLORES)", "group": "E", "date": "2024-12-06", "time": "20:20", "score1": null, "score2": null }, "12": { "team1": "TRIST√ÅN SU√ÅREZ", "team2": "REAL STFC RC", "group": "F", "date": "2024-12-06", "time": "21:30", "score1": null, "score2": null }, "13": { "team1": "URIBE (AMARILLO)", "team2": "CA√ëUELAS F.C. (ROJO)", "group": "E", "date": "2024-12-07", "time": "12:40", "score1": null, "score2": null }, "14": { "team1": "SAN MARTIN (MONTE GRANDE)", "team2": "URIBE (VERDE)", "group": "A", "date": "2024-12-07", "time": "13:50", "score1": null, "score2": null }, "15": { "team1": "MOSTRANDO CAMINOS", "team2": "FERRO (LAS FLORES)", "group": "E", "date": "2024-12-07", "time": "15:00", "score1": null, "score2": null }, "16": { "team1": "RIVADAVIA", "team2": "TRIST√ÅN SU√ÅREZ", "group": "F", "date": "2024-12-07", "time": "16:10", "score1": null, "score2": null }, "17": { "team1": "ROQUE P√âREZ", "team2": "REAL STFC RC", "group": "F", "date": "2024-12-07", "time": "17:20", "score1": null, "score2": null }, "18": { "team1": "ATHLETIC", "team2": "CA√ëUELAS F.C. (BLANCO)", "group": "C", "date": "2024-12-07", "time": "18:30", "score1": null, "score2": null }, "19": { "team1": "DORREGO", "team2": "BANFIELD", "group": "D", "date": "2024-12-07", "time": "19:40", "score1": null, "score2": null }, "20": { "team1": "PROVINCIAL", "team2": "DEFENSA Y JUSTICIA", "group": "B", "date": "2024-12-07", "time": "22:30", "score1": null, "score2": null }, "21": { "team1": "URIBE (VERDE)", "team2": "EL PORVENIR (MERLO)", "group": "A", "date": "2024-12-08", "time": "14:30", "score1": null, "score2": null }, "22": { "team1": "ATHLETIC", "team2": "LA BLANQUITA (MERLO)", "group": "C", "date": "2024-12-08", "time": "15:40", "score1": null, "score2": null }, "23": { "team1": "ROQUE P√âREZ", "team2": "TRIST√ÅN SU√ÅREZ", "group": "F", "date": "2024-12-08", "time": "16:50", "score1": null, "score2": null }, "24": { "team1": "SALGADO", "team2": "DEFENSA Y JUSTICIA", "group": "B", "date": "2024-12-08", "time": "18:00", "score1": null, "score2": null }, "25": { "team1": "E.F.I.N. (NAVARRO)", "team2": "CA√ëUELAS F.C. (BLANCO)", "group": "C", "date": "2024-12-08", "time": "19:10", "score1": null, "score2": null }, "26": { "team1": "RIVADAVIA", "team2": "REAL STFC", "group": "F", "date": "2024-12-08", "time": "20:20", "score1": null, "score2": null }, "27": { "team1": "MADRESELVA", "team2": "BANFIELD", "group": "D", "date": "2024-12-08", "time": "21:30", "score1": null, "score2": null }, "28": { "team1": "URIBE (AMARILLO)", "team2": "FERRO (LAS FLORES)", "group": "E", "date": "2024-12-09", "time": "14:00", "score1": null, "score2": null }, "29": { "team1": "MOSTRANDO CAMINOS", "team2": "CA√ëUELAS F.C. (ROJO)", "group": "E", "date": "2024-12-09", "time": "15:10", "score1": null, "score2": null }, "30": { "team1": "BANFIELD", "team2": "PLAZA ESPA√ëA (25 DE MAYO)", "group": "D", "date": "2024-12-09", "time": "17:20", "score1": null, "score2": null }, "31": { "team1": "HURAC√ÅN (SALADILLO)", "team2": "DEFENSA Y JUSTICIA", "group": "B", "date": "2024-12-09", "time": "18:25", "score1": null, "score2": null }, "32": { "team1": "DORREGO", "team2": "PLAZA ESPA√ëA (25 DE MAYO)", "group": "D", "date": "2024-12-09", "time": "19:30", "score1": null, "score2": null }, "33": { "team1": "SALGADO", "team2": "HURAC√ÅN (SALADILLO)", "group": "B", "date": "2024-12-09", "time": "20:40", "score1": null, "score2": null }, "34": { "team1": "E.F.I.L.", "team2": "SAN MART√çN (MONTE GRANDE) NEGRO", "group": "A", "date": "2024-12-09", "time": "21:50", "score1": null, "score2": null }, "35": { "team1": "ATHLETIC", "team2": "E.F.I.N. (NAVARRO)", "group": "C", "date": "2024-12-09", "time": "23:00", "score1": null, "score2": null }, "36": { "team1": "PROVINCIAL", "team2": "HURAC√ÅN (SALADILLO)", "group": "B", "date": "2024-12-10", "time": "13:10", "score1": null, "score2": null } }, "teams": {}, "groups": {}, "config": { "tournamentName": "Torneo Nacional EFIL 2025", "adminPass": "efil2025" }, "alerts": {} };

        function showStatus(message, type) {
            const statusDiv = document.getElementById('status');
            statusDiv.textContent = message;
            statusDiv.className = type;
            statusDiv.style.display = 'block';
        }

        async function resetAndImport() {
            const btn = document.getElementById('resetBtn');
            btn.disabled = true;
            btn.textContent = '‚è≥ Procesando...';

            try {
                // Step 1: Delete old document
                showStatus('üóëÔ∏è Paso 1/2: Borrando datos viejos...', 'info-msg');
                await db.collection('efil_data').doc('efil_data').delete();
                console.log('‚úÖ Datos viejos borrados');

                // Wait a moment
                await new Promise(resolve => setTimeout(resolve, 1000));

                // Step 2: Create new data
                showStatus('üì§ Paso 2/2: Creando datos nuevos...', 'info-msg');
                await db.collection('efil_data').doc('efil_data').set(tournamentData);
                console.log('‚úÖ Datos nuevos creados');

                // Success!
                showStatus('‚úÖ ¬°COMPLETADO! Base de datos reseteada con 36 partidos nuevos. Abre tu app para verlos.', 'success-msg');
                btn.textContent = '‚úÖ Reset Completado';
                btn.className = 'success';
                btn.disabled = true;

            } catch (error) {
                console.error('‚ùå Error:', error);
                showStatus('‚ùå Error: ' + error.message, 'error-msg');
                btn.disabled = false;
                btn.textContent = 'üîÑ Reintentar';
            }
        }
    </script>
</body>

</html>